<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Kejutan</title>

<style>
body{
    margin:0;
    overflow:hidden;
    background:radial-gradient(circle at bottom, #111, #000);
    font-family: "Segoe UI", sans-serif;
    color:white;
    text-align:center;
}

#mulai{
    position:absolute;
    top:50%;
    left:50%;
    transform:translate(-50%,-50%);
    padding:18px 36px;
    font-size:20px;
    border:none;
    border-radius:14px;
    cursor:pointer;
    z-index:10;
}

#teks{
    position:absolute;
    top:18%;
    width:100%;
    font-size:34px;
    font-weight:600;
    letter-spacing:1px;
    z-index:10;
}

#sub{
    position:absolute;
    top:28%;
    width:100%;
    font-size:22px;
    opacity:0.85;
}

canvas{
    position:fixed;
    top:0;
    left:0;
}
</style>
</head>

<body>

<button id="mulai">ðŸŽ‰ MULAI ðŸŽ‰</button>
<div id="teks"></div>
<div id="sub"></div>
<canvas id="cv"></canvas>

<audio id="lagu" src="hari-ini-hari-yang-kau-tunggu.mp3"></audio>

<script>
const btn = document.getElementById("mulai");
const teks = document.getElementById("teks");
const sub = document.getElementById("sub");
const lagu = document.getElementById("lagu");
const canvas = document.getElementById("cv");
const ctx = canvas.getContext("2d");

canvas.width = innerWidth;
canvas.height = innerHeight;

let particles = [];
let pesan = "HARI INI ADALAH HARI YANG KAU TUNGGU";
let i = 0;

// suara ledakan lembut
const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
function boom(){
    const osc = audioCtx.createOscillator();
    const gain = audioCtx.createGain();
    osc.type = "sine";
    osc.frequency.value = 120;
    gain.gain.value = 0.08;
    osc.connect(gain);
    gain.connect(audioCtx.destination);
    osc.start();
    osc.stop(audioCtx.currentTime + 0.1);
}

// efek ngetik
function ketik(){
    if(i < pesan.length){
        teks.innerHTML += pesan.charAt(i);
        navigator.vibrate?.(15);
        i++;
        setTimeout(ketik, 80);
    } else {
        setTimeout(()=>{
            sub.innerHTML = "Terima kasih, Guru, atas ilmu dan bimbingannya ðŸŒ¹";
        }, 600);
    }
}

// kembang api elegan
function firework(){
    let x = Math.random()*canvas.width;
    let y = Math.random()*canvas.height*0.4;

    for(let i=0;i<60;i++){
        particles.push({
            x,y,
            vx:(Math.random()-0.5)*4,
            vy:(Math.random()-0.5)*4,
            life:90,
            c:`hsl(${Math.random()*360},80%,60%)`
        });
    }
    boom();
}

function anim(){
    ctx.fillStyle="rgba(0,0,0,0.25)";
    ctx.fillRect(0,0,canvas.width,canvas.height);

    particles.forEach((p,idx)=>{
        p.x+=p.vx;
        p.y+=p.vy;
        p.life--;
        ctx.fillStyle=p.c;
        ctx.fillRect(p.x,p.y,2.5,2.5);
        if(p.life<=0) particles.splice(idx,1);
    });
    requestAnimationFrame(anim);
}

btn.onclick=()=>{
    btn.style.display="none";
    lagu.volume = 0.7;
    lagu.play();
    ketik();
    setInterval(firework, 450);
    anim();
};

onresize=()=>{
    canvas.width=innerWidth;
    canvas.height=innerHeight;
};
</script>

</body>
</html>